{{ define "main" }}
<section
  class="container academy-landing d-flex bd-highlight flex-column flex-lg-row align-items-center mb-5"
>
{{ if eq .Params.color "services"}}
  <style>.far.fa-check-circle{color:#ebaf41 !important;}</style>
{{else if eq .Params.color "academy"}}
<style>.far.fa-check-circle{color:#31b096 !important;}</style>
{{else}}
<style>.far.fa-check-circle{color:#3c6fe9 !important;}</style>
{{end}}
  <div class="ty header-content p-2 flex-fill bd-highlight pr-sm-3 pr-lg-5">
    <h1><i class="far fa-check-circle"></i></h1>
    <h2>{{.Params.header}}</h2>
    <h4>{{.Description}}</h4>
    {{if isset .Params "subdescription"}}
    <h4>{{.Params.subdescription}}</h4>
    {{end}}
    {{if isset .Params "gotourl"}}
      {{if not (eq .Params.gotourl "") }}
      <code id="url">{{ .Params.gotourl }}</code>
      {{end}}
    {{end}}
    
  </div>
  <div id="errormsg">
    <span>Please copy by hand</span>
  </div>
  <style>
    #errormsg{
      position: fixed;
      background: white;
      top: 0;
      right: 0;
      margin-right: -1000vw;
      padding: 20px 30px;
      border-radius: 40px;
      transition: all .3s ease;
      box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.2);
    }
    #errormsg.show{
      margin:5em;
    }
  </style>
  <script>
    document.querySelector('#url').addEventListener('click', () => {
    const selection = window.getSelection();
    const range = document.createRange();
    range.selectNodeContents(document.querySelector('#url'));
    selection.removeAllRanges();
    selection.addRange(range);

    try {
      window.open('https://'+document.querySelector('#url').innerHTML, '_blank');
    } catch(e) {
      document.querySelector('#url').select()
      console.log(e)
    }
  });
  </script>
</section>
{{end}}
