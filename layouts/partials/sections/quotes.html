<section class="quote-section">
    <div class="quotes">
        <q id="customerquote"></q>
        <h5 id="quoteBy"></h5>
    </div>
    <div id="partner-images"></div>
    <script>
        const images = [
            {{ range .Params.quotes }}
              {
                src: '{{.logo | absURL}}',
                alt: '{{.title}}',
                quote: '{{if isset . "quote"}}{{ .quote}}{{end}}',
                person: '{{if isset . "name"}}{{ .name}}{{end}}'
              },
            {{end}}
            ],
            s = document.querySelector('#partner-images'),
            len = images.length;
            images.forEach((image, i) => {
                s.innerHTML += `<img class="single-slide ${i > 3 ? 'shrink' : ''}" data-index="${i}" src="${image.src}" alt="${image.alt}"/>`
            });
            let firstQuote = null;
            const quoteMaker = (slide) => {
                let quote = images[slide.getAttribute('data-index')];
                document.querySelector('#customerquote').innerHTML = quote.quote;
                if(quote.person !== ""){
                document.querySelector('#quoteBy').innerHTML = quote.person;
            }
        }
        document.querySelectorAll('.single-slide').forEach(slide => {
        if(images[slide.getAttribute('data-index')].quote !== ""){
            if(!firstQuote){ firstQuote = slide; quoteMaker(slide)}

        slide.addEventListener('mouseover', () => {quoteMaker(slide)});
        }
        })
        if(firstQuote === null){
        document.querySelector('.quotes').style.display = "none";
        }
    </script>
</section>